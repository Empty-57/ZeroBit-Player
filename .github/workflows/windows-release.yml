name: Windows Release Build  
  
on:  
  push:  
    branches: [ main, master ]  
  
jobs:  
  build:  
    runs-on: windows-latest  
      
    steps:  
    - name: Checkout code  
      uses: actions/checkout@v4  
        
    - name: Setup Flutter  
      uses: subosito/flutter-action@v2  
      with:  
        flutter-version: '3.32.6'  
        channel: 'stable'  
          
    - name: Setup Rust  
      uses: dtolnay/rust-toolchain@stable  
        
    - name: Install Flutter dependencies  
      run: flutter pub get  
        
    - name: Build Windows release  
      run: flutter build windows --release  
        
    - name: Package release  
      run: |  
        cd build/windows/x64/runner/Release  
        7z a -tzip ../../../../ZeroBit-Player-Windows.zip *  
          
    - name: Upload artifact  
      uses: actions/upload-artifact@v4  
      with:  
        name: ZeroBit-Player-Windows  
        path: ZeroBit-Player-Windows.zip
